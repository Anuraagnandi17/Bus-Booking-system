{% extends 'myapp/base.html' %}

{% block content %}
<div class="container" style="position: relative; height: 100vh; overflow: hidden;">
    <div class="translucent-box"
    style="position: absolute; top: 30%; left: 50%; transform: translate(-50%, -50%); background-color: rgba(255, 255, 255, 0.85); padding: 30px; border-radius: 12px; width: 100%; max-width: 1300px;">

        <h3>{{msg}}</h3>
        <h2>List of buses</h2>
        <div class="table-container" style="max-height: 400px; overflow-y: auto;">
        <table class="table table-striped">
            <thead style="background-color: blue; color: white;">
                <tr>
                    <th>BOOKING ID</th>
                    <th>USER NAME</th>
                    <th>BUS NAME</th>
                    <th>SOURCE</th>
                    <th>DESTINATION</th>
                    <th>NUM OF SEATS</th>
                    <th>PRICE</th>
                    <th>DATE</th>
                    <th>TIME</th>
                    <th>STATUS</th>
                </tr>
            </thead>
            <tbody>
                {% for row in book_list %}
                <tr>
                    <td>{{row.id}}</td>
                    <td>{{row.name}}</td>
                    <td>{{row.bus_name}}</td>
                    <td>{{row.source}}</td>
                    <td>{{row.dest}}</td>
                    <td>{{row.nos}}</td>
                    <td>{{row.price}}</td>
                    <td>{{row.date}}</td>
                    <td>{{row.time}}</td>
                    <td>{{row.status}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
        <div class="persistent-box" style="position: absolute; top: 125%; left: 50%; transform: translate(-50%, -50%); background-color: rgba(255, 255, 255, 0.95); padding: 30px; border-radius: 12px; width: 80%; max-width: 800px;">
        <form action="{% url 'cancellings' %}" method="post">
            <h3>Choose a booking to cancel</h3>
            {% csrf_token %}
            <div class="form-group row">
                <label for="example-email-input" class="col-2 col-form-label">Enter Booking ID</label>
                <div class="col-10">
                    <input name='bus_id' class="form-control" type="number" id="example-email-input">
                </div>
            </div>

            <div class="pull-right">
                <button type="submit" class="btn btn-danger">Cancel</button>
            </div>

            {{error}}
        </form>
    </div>
    </div>
</div>
{% endblock %}
